<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="logo.png">
    <title>Payment</title>
    <link rel="shortcut icon" href="/static/pic/logo/AC favi logo.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="/static/payment.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>

<body>



    <main>
        <form action="/payment" method="post">
            <div class="card movieDetails">
                <img class="card-img-top movie-img " src="<%=moviedata.image%>" alt="Card image cap">
                <div class="card-body movie-body">
                    <div class="movietitle">
                        <input type="text" class="infodetail" value="<%=moviedata.moviename%>" name="moviename"
                            readonly>
                    </div>
                    <div>

                        <p class="infotag">Date: </p>
                        <input id="date" class="infodetail" type="text" name="date" value="" readonly>
                    </div>
                    <div>

                        <p class="infotag">Venue : </p>
                        <input id="venue" class="infodetail" type="text" name="venue" value="" readonly>
                    </div>
                    <div>



                        <p class="infotag">Time : </p>
                        <input id="time" class="infodetail" type="text" name="time" value="" readonly>
                    </div>

                    <div>

                        <p class="infotag">Seat Info : </p>
                        <input id="selSeats" class="infodetail" type="text" name="selSeat" value="" readonly>
                    </div>

                    <div>
                        <label class="infotag"> Fee :</label>
                        <input id="ticketFee" class="infodetail" type="number" name="amount" value="" readonly>

                    </div>

                </div>

            </div>
            <div class="restbody">
                <div class="restdetail">

                    <!-- cab details -->
                    <div class="card cab">

                        <div class="taxititle">
                            <h2>Cab Details</h2>
                        </div>
                        <div>
                            <p class="infotag">Vehicle : </p>

                            <input type="text" class="infodetail" id="cab-type" value="" name="cabtype" readonly>
                        </div>
                        <div>


                            <p class="infotag">Pickup : </p>
                            <input id="taxipickup" class="infodetail" type="text" name="from" value="" readonly>
                        </div>
                        <div>

                            <p class="infotag">Drop : </p>
                            <input id="taxidrop" class="infodetail" type="text" name="to" value="" readonly>
                        </div>

                        <div>



                            <p class="infotag">Time : </p>
                            <input id="taxitime" class="infodetail" type="text" name="cabtime" value="" readonly>
                        </div>

                        <div>
                            <label class="infotag"> Fee : &#8377;</label>
                            <input id="taxiFee" class="infodetail" type="number" name="cabcost" value="" readonly>

                        </div>


                    </div>

                    <!-- restaurant detail -->
                    <div class="card res">
                        <div class="card-body">
                            <div class="restauranttitle">

                                <h2>Restaurant Details</h2>

                            </div>
                            <div>

                                <p class="infotag">Venue : </p>
                                <input id="resvenue" class="infodetail" type="text" name="resvenue" value=""
                                    readonly>
                            </div>
                            <div>



                                <p class="infotag">Time : </p>
                                <input id="restime" class="infodetail" type="text" name="restime" value=""
                                    readonly>
                            </div>

                            <div>

                                <p class="infotag">Persons : </p>
                                <input id="nperson" class="infodetail" type="text" name="nperson" value=""
                                    readonly>
                            </div>

                        </div>

                    </div>
                </div>

                <div class="paymentForm">
                    <h1>Payment</h1>
                    <div id="totalamount">
                        <p>Total : &#8377;<input name="totalcost" id="totalFee" type="text" value="" readonly > </p>
                    </div>

                    <p>Full Name : <input name="name" type="text" value="" required placeholder="Enter Your Name"required> </p>

                    <p>
                        Contact Number : <input name="phone" type="number" maxlength="10" minlength="10" required
                            value="" placeholder="1234567890" required>
                    </p>
                    <p>
                        Email Id : <input type="email" name="email" placeholder="abc@gmail.com" required>
                    </p>
                    <button type="submit" id="payNow" value="Pay Now">Pay now</button>
                    
                    <div class="paymentBtn">
                        <button id="rzp-button1" onclick="" id="Pay Now" value="Pay Now">Pay now</button>
                    </div>
                </div>
            </div>
        </form>

    </main>



    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <script src="/static/payment.js"></script>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</body>
<script>
var total_cost=document.getElementById("totalFee").value;
total_cost=total_cost*100;
total_cost=total_cost.toString();

    var options = {
        "key": "rzp_test_84lLG8zty4fU4P", // Enter the Key ID generated from the Dashboard
        "amount": total_cost, // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise
        "currency": "INR",
        "name": "Apna Cinema",
        "description": "Test Transaction",
        "image": "/static/pic/logo/AC favi logo.png",
        "handler": function saveData() {
            var btn = document.getElementById('payNow');
            btn.click();
        },

        "prefill": {
            "name": "Gaurav Kumar",
            "email": "gaurav.kumar@example.com",
            "contact": "9000090000"
        },
        "notes": {
            "address": "Razorpay Corporate Office"
        },
        "theme": {
            "color": "#2B2B2C"
        }
    };
    var rzp1 = new Razorpay(options);

    rzp1.on('payment.failed', function (response) {
        alert("payment failed ")
    });
    document.getElementById('rzp-button1').onclick = function (e) {
        rzp1.open();
        e.preventDefault();
    }


</script>

</html>